
<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <textarea id="printContent"></textarea>
    <input type="submit" onclick="go()" value="Print"/>
    <P>Type text into box and click on submit button 33
      
       
 <script> 
function go() {
    var device;
navigator.usb.requestDevice({ filters: [{ vendorId: 0x0403, productId: 0xE958 }] })
.then(selectedDevice => {
   device = selectedDevice;
   return device.open(); // Begin a session.
 })
.then(() => device.selectConfiguration(1)) // Select configuration #1 for the device. Yes #1 {0,2,3}=not supported
.then(() => device.claimInterface(0)) // Request exclusive control over interface #2. 0=alternate,{1,2,3,4,5,6}=not supported,
.then(() => device.controlTransferOut({
    requestType: 'vendor',
    recipient: 'device',
    request: 0x03 /* FTDI_SIO_SET_BAUDRATE_REQUEST */,
    value: 0x4E /*78.125 divisor_value or if 4Byte 0x4EC0*/,
    index: 0xC0 /*0.125 divisor_index or if 4Byte 0x0000*/ })) // Ready to receive data
.then(() => {
    //console.log("waiting for input");
    device.transferIn(5, 64);
}) // Waiting for 64 bytes of data from endpoint #5.
    
.then(result => {
  let decoder = new TextDecoder();
  console.log('Received: ' + decoder.decode(result.data));
})
.catch(error => { console.log(error); });
}
      
</script>
     
       
</body>
</html>
    
